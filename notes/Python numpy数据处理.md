###Python numpy关于数据处理

**初始化**

```python
a=np.random.randn(3,5)
a
array([[ 0.8017493 ,  1.00148783,  0.36446756,  0.02479344,  0.52862286],
       [-0.52806629,  1.5930625 ,  1.9087337 , -0.63747712, -0.76402713],
       [-0.42325033, -1.14353296, -1.06817094, -0.71851709, -0.37195192]])
```

**值的选取**

```python
>>> a[1]
array([-0.52806629,  1.5930625 ,  1.9087337 , -0.63747712, -0.76402713])
>>> a[1,1]
1.5930624981606667
>>> a[1][1]
1.5930624981606667
```

**":"的使用**

```python
>>> a[0:]
array([[ 0.8017493 ,  1.00148783,  0.36446756,  0.02479344,  0.52862286],
       [-0.52806629,  1.5930625 ,  1.9087337 , -0.63747712, -0.76402713],
       [-0.42325033, -1.14353296, -1.06817094, -0.71851709, -0.37195192]])
>>> a[0,:]
array([0.8017493 , 1.00148783, 0.36446756, 0.02479344, 0.52862286])
>>> a[0,1:]
array([1.00148783, 0.36446756, 0.02479344, 0.52862286])
```

**排序(np.argsort()  返回索引)**

```python
>>> a=np.array([1,32,1,31,4,1,41,231])
>>> b=np.argsort(a)
>>> b
array([0, 2, 5, 4, 3, 1, 6, 7], dtype=int64)
>>> a[b]
array([  1,   1,   1,   4,  31,  32,  41, 231])
```

**统计出现次数（np.bincount()  返回从0到最大值 出现的次数）**

```python
>>> np.bincount(a)
array([0, 3, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], dtype=int64)
```

**返回出现次数最多的数 np.bincount(a).argmax()**

```python
>>> a=np.array([1,32,1,31,4,1,41,231])
>>> np.bincount(a).argmax()
1
```

**argmax() 返回最大值的索引**

```python
>>> a=np.array([1,32,1,31,4,1,41,231])
>>> a.argmax()
7
```

**np.vstack():在竖直方向上堆叠**

**np.hstack():在水平方向上平铺**

https://my.oschina.net/amui/blog/1601432

```python
>>> c=[[[1,2,3,4],[11,21,31,41]],
...    [[5,6,7,8],[51,61,71,81]],
...    [[9,10,11,12],[91,101,111,121]]]

>>> c1=np.vstack(c)
>>> c2=np.hstack(c)

>>> c1
array([[  1,   2,   3,   4],
       [ 11,  21,  31,  41],
       [  5,   6,   7,   8],
       [ 51,  61,  71,  81],
       [  9,  10,  11,  12],
       [ 91, 101, 111, 121]])
>>> c2
array([[  1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12],
       [ 11,  21,  31,  41,  51,  61,  71,  81,  91, 101, 111, 121]])
```

**多元分类中，获取所有样本结果中真实值的得分**

```python
num_train=500
scores.shape=[500,10]  #500个样本对应10类的得分
y.shape=[500,1]        #500个样本对应的类的标签

scores_correct=scores[np.arange(num_train),y].reshape(-1,1)
scores_correct=scores[range(num_train),y].reshape(-1,1)
```

**对矩阵完成$$ max(0, x_{ij} ) $$操作**

```python
margin[margin<0]=0
```

**batch选取**

```python
index = np.random.choice(range(X.shape[0]), batch_size, replace=True)
X_batch = X[index]
y_batch = y[index]
```

